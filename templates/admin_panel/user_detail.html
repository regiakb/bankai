{% extends 'base.html' %}
{% load static %}

{% block title %}{{ user_obj.username }} - Admin Panel{% endblock %}
{% block page_title %}User: {{ user_obj.username }}{% endblock %}

{% block content %}
<div class="admin-page admin-form-page">
    <header class="admin-form-page__header">
        <a href="{% url 'settings_index' %}" class="btn-back">‚Üê Back to Settings</a>
    </header>

    <div class="admin-form-page__body">
        <div class="admin-form-page__card">
            <form method="post">
                {% csrf_token %}
                <div class="form-row-grid">
                    <div class="form-group">
                        <label for="username">User *</label>
                        <input type="text" id="username" name="username" value="{{ user_obj.username }}" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" value="{{ user_obj.email|default:'' }}">
                    </div>
                </div>
                <div class="form-row-grid">
                    <div class="form-group">
                        <label for="first_name">Name</label>
                        <input type="text" id="first_name" name="first_name" value="{{ user_obj.first_name|default:'' }}">
                    </div>
                    <div class="form-group">
                        <label for="last_name">Last name</label>
                        <input type="text" id="last_name" name="last_name" value="{{ user_obj.last_name|default:'' }}">
                    </div>
                </div>
                <div class="form-group">
                    <label for="password">New Password</label>
                    <input type="password" id="password" name="password" placeholder="Leave empty to not change">
                    <small class="form-help">Leave empty if you don't want to change the password</small>
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="is_staff" {% if user_obj.is_staff %}checked{% endif %}>
                        <span>Is staff</span>
                    </label>
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="is_superuser" {% if user_obj.is_superuser %}checked{% endif %}>
                        <span>Is superuser</span>
                    </label>
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="is_active" {% if user_obj.is_active %}checked{% endif %}>
                        <span>Active</span>
                    </label>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a href="{% url 'settings_index' %}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
